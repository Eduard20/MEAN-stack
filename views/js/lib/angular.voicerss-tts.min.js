!function(){"use strict";function e(){function e(e){if(!e)throw"The settings are undefined";if(!e.key)throw"The API key is undefined";if(!e.src)throw"The text is undefined";if(!e.hl)throw"The language is undefined";if(e.c&&"auto"!=e.c.toLowerCase()){var a=!1;switch(e.c.toLowerCase()){case"mp3":a=(new Audio).canPlayType("audio/mpeg").replace("no","");break;case"wav":a=(new Audio).canPlayType("audio/wav").replace("no","");break;case"aac":a=(new Audio).canPlayType("audio/aac").replace("no","");break;case"ogg":a=(new Audio).canPlayType("audio/ogg").replace("no","");break;case"caf":a=(new Audio).canPlayType("audio/x-caf").replace("no","")}if(!a)throw"The browser does not support the audio codec "+e.c}}function a(e){var a=n(e);c({method:"POST",url:"https://api.voicerss.org/",headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},data:a}).then(function(e){if(0==e.data.indexOf("ERROR"))throw e.data;new Audio(e.data).play()})}function n(e){var a=e.c&&"auto"!=e.c.toLowerCase()?e.c:o();return"key="+(e.key||"")+"&src="+(e.src||"")+"&hl="+(e.hl||"")+"&r="+(e.r||"")+"&c="+(a||"")+"&f="+(e.f||"")+"&ssml="+(e.ssml||"")+"&b64=true"}function o(){var e=new Audio;return e.canPlayType("audio/mpeg").replace("no","")?"mp3":e.canPlayType("audio/wav").replace("no","")?"wav":e.canPlayType("audio/aac").replace("no","")?"aac":e.canPlayType("audio/ogg").replace("no","")?"ogg":e.canPlayType("audio/x-caf").replace("no","")?"caf":""}var c=null,t={},i=this;this.$get=["$http",function(e){return c=e,{setSettings:i.setSettings,speech:i.speech}}],this.setSettings=function(e){t=e},this.speech=function(n){angular.extend(t,n),e(t),a(t)}}angular.module("voiceRss",[]).provider("tts",e)}();